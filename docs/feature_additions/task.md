# タスクリスト

- [x] **スマートタイトル & スケジューリング**
    - [ ] `GeminiService` のプロンプトを修正し、最適化されたタイトルとタスクの順序/所要時間を要求する
    - [ ] `CreateGoalUseCase` または `GeminiService` に、期限から逆算して `scheduledDate` を設定するロジックを実装する
    - [ ] `Goal` モデルの初期化ロジックを更新し、生成されたタイトルと日付を反映する

- [x] **デイリールーチン & 通知**
    - [ ] `GoalTask` モデルに `recurrence` (繰り返し) プロパティを追加する (例: `daily`)
    - [ ] ローカル通知を管理する `NotificationManager` を作成する
    - [ ] タスク作成時または更新時に、繰り返しタスクの通知をスケジュールする処理を実装する

- [x] **チャットインターフェース (自然言語調整)**
    - [ ] `GeminiService` に、既存の目標とユーザーの指示を受け取り、修正案を返す `updateGoal` メソッドを追加する
    - [ ] チャット画面 `GoalChatView` を作成する
    - [ ] チャット画面から Gemini に指示を送り、返ってきた結果で目標 (タスク/マイルストーン) を更新する機能を実装する
    - [x] 目標詳細画面 (`GoalDetailView`) にチャット画面への遷移を追加する

- [x] **リファクタリング & ルール準拠**
    - [x] `docs/coding_rules.md` を作成する
    - [x] `GoalChatView.swift` から `GoalChatViewModel` を分離する
    - [x] `GoalChatView.swift` にプレビューを追加する

- [x] **カレンダー機能の改善**
    - [x] 既存イベント削除機能を追加（目標ごとに識別）
    - [x] 既存の予定と重ならないスケジューリング
    - [x] チャット画面からカレンダー削除ボタンを追加
    - [x] 作業時間帯を設定画面から設定可能にする
    - [x] 曜日別の作業時間帯設定を実装

- [x] **目標の開始日機能**
    - [x] GoalモデルにstartDateプロパティを追加
    - [x] スケジューリング時に開始日より前にタスクを配置しないように修正
